<div class="todo-container">
  <!-- Header -->
  <div class="header">
    <div class="header-content">
      <div class="header-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 2v20M2 12h20"></path>
          <circle cx="12" cy="12" r="9"></circle>
        </svg>
      </div>
      <div class="header-text">
        <h1 class="header-title">My Dodos</h1>
        <p class="header-subtitle">Stay organized, stay productive</p>
      </div>
    </div>
  </div>

  <!-- Add Task Form -->
  <div class="add-task-section">
    <form (ngSubmit)="addTask()" class="add-task-form">
      <div class="input-wrapper">
        <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="8" x2="12" y2="16"></line>
          <line x1="8" y1="12" x2="16" y2="12"></line>
        </svg>
        <input
          type="text"
          [ngModel]="newTaskTitle()"
          (ngModelChange)="newTaskTitle.set($event)"
          placeholder="Add a new task..."
          class="task-input"
          maxlength="100"
        />
      </div>
      <button type="submit" class="add-button" [disabled]="!newTaskTitle().trim()">
        <span>Add</span>
      </button>
    </form>
  </div>

  <!-- Task List -->
  <div class="tasks-section">
    @if (tasks().length === 0) {
      <!-- Empty State -->
      <div class="empty-state">
        <div class="empty-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="7 10 12 15 17 10"></polyline>
            <line x1="12" y1="15" x2="12" y2="3"></line>
          </svg>
        </div>
        <h3 class="empty-title">No tasks yet</h3>
        <p class="empty-message">Start by adding your first task above</p>
      </div>
    } @else {
      <!-- Task Items -->
      <div class="task-list">
        @for (task of tasks(); track task.id) {
          <div class="task-item" [class.completed]="task.completed">
            <div class="task-content">
              <label class="checkbox-wrapper">
                <input
                  type="checkbox"
                  [checked]="task.completed"
                  (change)="toggleTask(task.id)"
                  class="task-checkbox"
                />
                <span class="checkbox-custom">
                  <svg class="checkbox-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="20 6 9 17 4 12"></polyline>
                  </svg>
                </span>
              </label>
              <span class="task-title">{{ task.title }}</span>
            </div>
            <button
              class="delete-button"
              (click)="deleteTask(task.id)"
              aria-label="Delete task"
            >
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
            </button>
          </div>
        }
      </div>

      <!-- Task Counter -->
      <div class="task-counter">
        <span class="counter-text">
          {{ remainingTasksCount() }}
          {{ remainingTasksCount() === 1 ? 'task' : 'tasks' }} remaining
        </span>
      </div>
    }
  </div>
</div>
